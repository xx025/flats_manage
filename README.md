# 公寓管理系统


Java+JDBC+Mysql


## 程序逻辑

1. 打开运行

2. 登录:输入账户和密码,将输入的账户与数据库steward(管家表)做对比
    1. 密码比对成功  
        1. 登录成功,关闭登录窗口
        2. 显式操作窗口以及各种功能按钮
        3. 显示所有人员信息
            1. 首先依据`rid`排序
            2. 再依据`pid`排序
    2. 密码比对失败或用户检索失败
        1. 弹窗报错

3. 查找和管理  
    1. 搜索,不指定表向所有列people和room进行模糊搜索       
    2. 管理
        1.  删除
            1. 删除人员不做任何限制,可以删除任意一个人员的记录,删除以人员`pid`为标准进行删除  

                删除失败,提示错误  
                删除成功,提示删除成功

            2. 删除以房间`rid`为标准进行删除          
                1. 删除房间需要确定房间内没有人,否则不能删除 

                删除失败,提示错误    
                删除成功,提示删除成功

        2. 更新
            1. 人员更新,id不可更改,性别可更改,房间可更改,名字可更改
                1. 先进行id检查,检查成功向数据库调取信息显示(文本框预先不存在)在文本框,检查不存在弹窗报错
                2. 锁定id框
                3. 更新后满足房间不可满员
            2. 房间信息只能更新容量
                1. 先进性id检查,检查成功向数据库调取信息显示(文本框预先不存在)在文本框,检查不存在弹窗报错
                2. 锁定id框和地址不可更改
                3. 更新后的容量和当前已有人数不能冲突
        3. 添加
            1. 添加人员,id自动生成
                1. 生成原则向数据库中表检索pid取最大值并+1
                2. 新添加的人满足房间不满员
            2. 新添加房间需要满足`room.loc`不重复,id同人员

#### 项目地址: https://github.com/xx025/flats_manage